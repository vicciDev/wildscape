import{a as te,b as ne}from"./chunk-OPHNN3TD.js";import{a as ie}from"./chunk-2LCKBUCN.js";import{G as X,K as Z,L as $,Q as ee,a as J,r as K,s as Q}from"./chunk-JSV5RXAE.js";import"./chunk-OPR332P5.js";import{Ab as D,D as n,Eb as U,K as i,Kb as W,L as l,M as s,Oa as m,Ob as H,Pa as F,Q as g,Qa as P,Ra as k,Sa as T,Ta as I,Ua as E,Ub as Y,Va as M,Wa as A,Y as p,_ as S,db as N,fb as z,h as c,jb as L,ka as _,kb as x,mb as G,qb as O,ra as w,s as h,sa as C,sb as R,tb as q,v as t,wb as V,xb as j,y as b,yb as B}from"./chunk-L5ICFIAI.js";import"./chunk-PYEIH4SJ.js";import"./chunk-G5LKHTWO.js";import"./chunk-PPHRO4QI.js";import"./chunk-4PGTP63H.js";import"./chunk-CX2FLORO.js";import"./chunk-HC6MZPB3.js";import"./chunk-MZ3KW5SR.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-Z7R4G3KQ.js";import"./chunk-MCRJI3T3.js";import"./chunk-LDG2K7AA.js";import"./chunk-3JNI7XCC.js";import"./chunk-WTZKA22V.js";import"./chunk-Y7WTXGDI.js";import"./chunk-CL74ATLT.js";import"./chunk-F7XBNY6P.js";import"./chunk-GFSEGY4N.js";import"./chunk-5MDSDW7X.js";import"./chunk-X3FQ5PAQ.js";import"./chunk-LTIPSBNC.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{f as v}from"./chunk-RW4GY4BD.js";var ve=(()=>{let u=class u{constructor(){this.validateField=c(te),this.fb=c(E),this.toastService=c(ne),this.authApiService=c(ie),this.router=c(w),this.hidePwd=!0,this.hideConfirm=!0,this.loading=h(!1),this.hide=h(!0)}ngOnInit(){this.initForm(),J({person:Z,mail:X,eyeOff:Q,eye:K,personAdd:$,refreshCircle:ee})}initForm(){this.signupForm=this.fb.group({username:["",[m.required,m.minLength(3)]],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(8)]],confirmPassword:["",m.required],agreeTerms:[!1,m.requiredTrue]},{validators:this.passwordsMatch})}passwordsMatch(a){var o,d,y;let r=(o=a.get("password"))==null?void 0:o.value,e=(d=a.get("confirmPassword"))==null?void 0:d.value;return r&&e&&r!==e?((y=a.get("confirmPassword"))==null||y.setErrors({mismatch:!0}),{mismatch:!0}):null}register(){return v(this,null,function*(){if(this.signupForm.invalid)return;let a=this.signupForm.value;this.loading.set(!0),this.authApiService.signup(a).subscribe({next:()=>{this.toastService.toast({message:"Sign up successful!",duration:2e3,position:"bottom",color:"success"}),this.signupForm.reset()},error:r=>{var e;this.toastService.toast({message:((e=r==null?void 0:r.error)==null?void 0:e.detail)||"Sign up failed. Please try again.",duration:5e3,position:"bottom",color:"danger"})},complete:()=>{this.loading.set(!1)}})})}signupWithGoogle(){console.log("Sign up with Google")}signupWithApple(){console.log("Sign up with Apple")}altSignupMode(){this.hide.update(a=>!a)}};u.\u0275fac=function(r){return new(r||u)},u.\u0275cmp=b({type:u,selectors:[["app-signup"]],decls:46,vars:15,consts:[["id","main-content",3,"fullscreen"],[1,"ion-justify-content-center","ion-align-items-center","signup-container"],["size-md","8","size-lg","6"],[1,"ion-justify-content-evenly","ion-padding-horizontal"],["color","primary",1,"login-title"],["fill","clear",3,"click"],["name","person-add"],[3,"ngSubmit","formGroup"],[1,"ion-padding"],["size-md","10","size-lg","6",1,"ion-padding-horizontal"],["label","Username","type","text","formControlName","username","placeholder","Enter your username","label-placement","floating",3,"errorText"],["slot","end","name","person",3,"color"],["label","Email Address","type","email","formControlName","email","placeholder","Enter your email","label-placement","floating",3,"errorText"],["slot","end","name","mail",3,"color"],["label","Password","formControlName","password","placeholder","Enter your password","label-placement","floating",3,"type","errorText"],["fill","clear","slot","end","type","button",3,"click"],[3,"name"],["label","Confirm Password","formControlName","confirmPassword","placeholder","Confirm your password","label-placement","floating",3,"type","errorText"],[1,"ion-padding","checkbox-wrapper"],["lines","none",1,"checkbox-input-item"],["slot","start","formControlName","agreeTerms"],["routerLink","/terms"],[1,"ion-margin","ion-justify-content-evenly"],["color","primary","slot","start","fill","clear","shape","round","type","submit",3,"disabled"],["slot","end","name","person-add"],["color","primary","slot","end","shape","round","fill","clear","type","reset",3,"click","disabled"],["slot","start","name","refresh-circle"],[1,"ion-text-wrap","login-links","lext","ion-text-center"],["routerLink","/auth/login"]],template:function(r,e){if(r&1&&(i(0,"ion-content",0)(1,"ion-row",1)(2,"ion-col",2)(3,"ion-row",3)(4,"ion-title",4),p(5,"Sign Up"),l(),i(6,"ion-button",5),g("click",function(){return e.altSignupMode()}),s(7,"ion-icon",6),l()(),i(8,"section")(9,"ion-card-content")(10,"form",7),g("ngSubmit",function(){return e.register()}),i(11,"ion-row",8)(12,"ion-col",9)(13,"ion-input",10),s(14,"ion-icon",11),l()(),i(15,"ion-col",9)(16,"ion-input",12),s(17,"ion-icon",13),l()()(),i(18,"ion-row")(19,"ion-col",9)(20,"ion-input",14)(21,"ion-button",15),g("click",function(){return e.hidePwd=!e.hidePwd}),s(22,"ion-icon",16),l()()(),i(23,"ion-col",9)(24,"ion-input",17)(25,"ion-button",15),g("click",function(){return e.hideConfirm=!e.hideConfirm}),s(26,"ion-icon",16),l()()()(),i(27,"div",18)(28,"ion-item",19),s(29,"ion-checkbox",20),i(30,"ion-label"),p(31,"I agree to the "),i(32,"a",21),p(33,"Terms & Conditions"),l()()()(),i(34,"ion-buttons",22)(35,"ion-button",23),s(36,"ion-icon",24),p(37),l(),i(38,"ion-button",25),g("click",function(){return e.signupForm.reset()}),s(39,"ion-icon",26),p(40," Reset "),l()()(),i(41,"ion-label",27)(42,"p"),p(43,"Already have an account? "),i(44,"a",28),p(45,"Login"),l()()()()()()()()),r&2){let o,d;n("fullscreen",!0),t(10),n("formGroup",e.signupForm),t(3),n("errorText",e.validateField.getErrorMessage(e.signupForm.get("username"))),t(),n("color",(o=e.signupForm.get("email"))!=null&&o.invalid&&((o=e.signupForm.get("email"))!=null&&o.touched)?"danger":"primary"),t(2),n("errorText",e.validateField.getErrorMessage(e.signupForm.get("email"))),t(),n("color",(d=e.signupForm.get("email"))!=null&&d.invalid&&((d=e.signupForm.get("email"))!=null&&d.touched)?"danger":"primary"),t(3),n("type",e.hidePwd?"password":"text")("errorText",e.validateField.getErrorMessage(e.signupForm.get("password"))),t(2),n("name",e.hidePwd?"eye-off":"eye"),t(2),n("type",e.hideConfirm?"password":"text")("errorText",e.validateField.getErrorMessage(e.signupForm.get("confirmPassword"))),t(2),n("name",e.hideConfirm?"eye-off":"eye"),t(9),n("disabled",!e.signupForm.valid),t(2),S(" ",e.loading()?"Creating Account...":"Sign Up"," "),t(),n("disabled",!e.signupForm.touched)}},dependencies:[Y,L,x,G,O,R,q,V,j,B,D,U,W,N,z,H,_,M,k,F,P,A,T,I,C],styles:[".signup-container[_ngcontent-%COMP%]{min-width:500px;margin:0 auto;padding:1.5rem;transform:translateY(15%)}ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.login-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}a[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:.875rem;text-decoration:none;margin-left:.25rem}"]});let f=u;return f})();export{ve as SignupPage};
